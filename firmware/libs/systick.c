#include <asf.h>
#include "systick.h"

static volatile uint32_t _tc;

/* ====================================================================================== */
/* ====================================================================================== */
/* ====================================================================================== */
/* Externally available routines                                                          */
/* ====================================================================================== */
/* ====================================================================================== */
/* ====================================================================================== */

/* Interrupt handler for SysTick - name is specific and set by the interrupt table */

void SysTick_Handler( void )

{
    _tc++;
}
/* ====================================================================================== */

/* Return current SysTick value */

uint32_t systick_value( void )

{
    return _tc;
}
/* ====================================================================================== */

/* Initialise SysTick counter */

void systick_init( void )

{
    SysTick_Config( BOARD_MCK / TICKS_PER_SEC );
}
/* ====================================================================================== */
